
# Loads default set of integrations. Do not remove.
default_config:

homeassistant:
  allowlist_external_dirs:    
    - "/media"
    - "/tmp"

http:
  ip_ban_enabled: true
  login_attempts_threshold: 3
  use_x_forwarded_for: true
  trusted_proxies:
    - 192.168.1.0/24  # Local Lan
    - 172.10.0.0/24  # Docker network

shell_command:
  ha_start: curl http://192.168.1.226:1880/endpoint/ha_start

logger:
  default: warn
  # logs:
  #   homeassistant.loader: debug
  #   custom_components.electrolux_status: debug

duckdns:
  domain: !secret duckdns_domain
  access_token: !secret duckdns_token

prometheus:
    filter:
        include_domains:
            - climate
        include_entity_globs:
            - sensor.rc_touch_*
            - sensor.*_energy
            - sensor.*_power
            - sensor.*_temperature
            - sensor.*_soverom*
            - sensor.bad_*
            - sensor.*gang*
            - sensor.*_illuminance_lux
            - sensor.nordpool*
            - sensor.los_*
            - light.*
            - binary_sensor.*_contact
            - sensor.filtered_powerusage_last_5_minutes

homekit:

nordpool:

sensor: !include sensor.yaml

template: !include template.yaml

mqtt:
  sensor:
    - name: "E-Golf SOC"
      unique_id: sensor.e_golf_soc
      state_topic: "E_Golf/SOC"
      unit_of_measurement: "%"
      value_template: "{{ value_json.soc | float(0) }}"
    - name: "E-Golf Kilometerstand"
      unique_id: sensor.e_golf_kmstand
      state_topic: "E_Golf/Odometer"
      unit_of_measurement: "km"
      value_template: "{{ value_json.odometer }}"
 
#webhook:

#  zigbee2mqtt_networkmap:
#    #topic: your topic (optional, default zigbee2mqtt)
#  panel_iframe:
#    networkmap:
#      title: 'Zigbee Map'
#      url: '/local/community/zigbee2mqtt_networkmap/map.html'
#      icon: 'mdi:graphql'

tts:
  - platform: google_cloud
    key_file: googlecloud.json
    voice: nb-NO-Wavenet-B
    text_type: ssml
    profiles:
      - medium-bluetooth-speaker-class-device

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

frontend:
  themes: !include_dir_merge_named themes
